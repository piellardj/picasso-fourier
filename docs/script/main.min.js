!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(2),o={PRESET:"preset-picker-id",MODE:"mode-picker-id",SPEED:"speed-range-id",PERSISTENCE:"persistence-checkbox-id",SMOOTH:"smooth-checkbox-id",CLOSE_LOOP:"close-loop-checkbox-id",REPEAT:"loop-checkbox-id",RESET:"reset-button-id",DISPLAY_CIRCLES:"circles-checkbox-id",DISPLAY_SEGMENTS:"segments-checkbox-id",DISPLAY_CURVE:"curve-checkbox-id",DISPLAY_ORIGINAL_CURVE:"original-curve-checkbox-id",ORDER:"order-range-id",ZOOM:"zoom-range-id",INDICATOR:"indicator-checkbox-id",DOWNLOAD:"download-button-id"};function s(e){for(var t=0,r=e;t<r.length;t++){(0,r[t])()}}!function(e){e.INSTANT="0",e.PROGRESSIVE="1"}(n||(n={}));var a,c,u={clear:[],redraw:[],speedChange:[],presetChange:[],download:[]};function h(e){var t=a;(a=e)!==t&&s(u.presetChange)}function l(e){if(1===e.length){var t=e[0];if(t!==c){var r=(c=t)===n.INSTANT;Controls.setVisibility(o.SMOOTH,!r),Controls.setVisibility(o.DISPLAY_CIRCLES,r),Controls.setVisibility(o.DISPLAY_SEGMENTS,r),Controls.setVisibility(o.DISPLAY_CURVE,r),Controls.setVisibility(o.ZOOM,r),s(u.clear)}}}Picker.addObserver(o.PRESET,h),h(Picker.getValue(o.PRESET)),l(Tabs.getValues(o.MODE)),Tabs.addObserver(o.MODE,l);var d=Range.getValue(o.SPEED);Range.addObserver(o.SPEED,(function(e){d=e,s(u.speedChange)}));var p=Checkbox.isChecked(o.PERSISTENCE);Checkbox.addObserver(o.PERSISTENCE,(function(e){p=e}));var f=Checkbox.isChecked(o.SMOOTH);Checkbox.addObserver(o.SMOOTH,(function(e){f=e}));var v=Checkbox.isChecked(o.CLOSE_LOOP);Checkbox.addObserver(o.CLOSE_LOOP,(function(e){v=e,c===n.PROGRESSIVE&&s(u.clear)}));var P=Checkbox.isChecked(o.REPEAT);Checkbox.addObserver(o.REPEAT,(function(e){P=e})),Button.addObserver(o.RESET,(function(){return s(u.clear)}));var b=Checkbox.isChecked(o.DISPLAY_CIRCLES);Checkbox.addObserver(o.DISPLAY_CIRCLES,(function(e){b=e,s(u.redraw)}));var m=Checkbox.isChecked(o.DISPLAY_SEGMENTS);Checkbox.addObserver(o.DISPLAY_SEGMENTS,(function(e){m=e,s(u.redraw)}));var g=Checkbox.isChecked(o.DISPLAY_CURVE);Checkbox.addObserver(o.DISPLAY_CURVE,(function(e){g=e,s(u.redraw)}));var C=Checkbox.isChecked(o.DISPLAY_ORIGINAL_CURVE);Checkbox.addObserver(o.DISPLAY_ORIGINAL_CURVE,(function(e){C=e,s(u.redraw)}));var y=Range.getValue(o.ORDER);Range.addObserver(o.ORDER,(function(e){y=e,s(u.clear)}));var O=Range.getValue(o.ZOOM);function S(){var e=Checkbox.isChecked(o.INDICATOR);Canvas.setIndicatorsVisibility(e)}Range.addObserver(o.ZOOM,(function(e){O=e,s(u.redraw),s(u.speedChange)})),S(),Checkbox.addObserver(o.INDICATOR,S),Button.addObserver(o.DOWNLOAD,(function(){return s(u.download)}));var w=function(){function e(){}return Object.defineProperty(e,"preset",{get:function(){return a},enumerable:!0,configurable:!0}),e.setCustomPreset=function(){Picker.setValue(o.PRESET,null),a=i.EPreset.CUSTOM,s(u.presetChange)},Object.defineProperty(e,"isProgressiveMode",{get:function(){return c===n.PROGRESSIVE},enumerable:!0,configurable:!0}),Object.defineProperty(e,"speed",{get:function(){return this.isProgressiveMode?.1*d:d},enumerable:!0,configurable:!0}),Object.defineProperty(e,"persistence",{get:function(){return p},enumerable:!0,configurable:!0}),Object.defineProperty(e,"smooth",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(e,"closeLoop",{get:function(){return v},enumerable:!0,configurable:!0}),Object.defineProperty(e,"repeat",{get:function(){return P},enumerable:!0,configurable:!0}),Object.defineProperty(e,"displayCircles",{get:function(){return c===n.INSTANT&&b},enumerable:!0,configurable:!0}),Object.defineProperty(e,"displaySegments",{get:function(){return c===n.INSTANT&&m},enumerable:!0,configurable:!0}),Object.defineProperty(e,"displayCurve",{get:function(){return c===n.INSTANT&&g},enumerable:!0,configurable:!0}),Object.defineProperty(e,"displayOriginalCurve",{get:function(){return C},enumerable:!0,configurable:!0}),Object.defineProperty(e,"order",{get:function(){return y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"zoom",{get:function(){return O},enumerable:!0,configurable:!0}),e.resetZoom=function(){O=1,Range.setValue(o.ZOOM,O)},Object.defineProperty(e,"integrationPrecision",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"curvePrecision",{get:function(){return.5},enumerable:!0,configurable:!0}),Object.defineProperty(e,"clearObservers",{get:function(){return u.clear},enumerable:!0,configurable:!0}),Object.defineProperty(e,"redrawObservers",{get:function(){return u.redraw},enumerable:!0,configurable:!0}),Object.defineProperty(e,"speedChangeObservers",{get:function(){return u.speedChange},enumerable:!0,configurable:!0}),Object.defineProperty(e,"presetObservers",{get:function(){return u.presetChange},enumerable:!0,configurable:!0}),Object.defineProperty(e,"downloadObservers",{get:function(){return u.download},enumerable:!0,configurable:!0}),e}();t.Parameters=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.interpolate=function(e,t,r){return{x:e.x*(1-r)+t.x*r,y:e.y*(1-r)+t.y*r}},e.distance=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e.copy=function(e){return{x:e.x,y:e.y}},e}();t.Point=n},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(r(3)),s=r(4);!function(e){e.ARLEQUIN1="arlequin1",e.ARLEQUIN2="arlequin2",e.BULL="bull",e.CAMEL="camel",e.CUSTOM="<none>",e.DOG="dog",e.DOVE="dove",e.FLAMINGO="flamingo",e.HORSE="horse",e.MOUSE="mouse",e.PENGUIN="penguin",e.WOMAN1="woman1",e.WOMAN2="woman2"}(i||(i={})),t.EPreset=i;var a=512,c=function(){function e(){}return e.getPreset=function(t,r,n){var i=new s.StopWatch,c=!1;function u(e){for(var s=Math.min(r[0]/a,r[1]/a),u=.5*(r[0]-a*s),h=.5*(r[1]-a*s),l=[],d=0,p=e;d<p.length;d++){var f=p[d];l.push({x:f.x*s+u,y:f.y*s+h})}c?o.message("Retrieved preset '"+t+"' from cache in "+i.milliseconds+" ms"):o.message("Downloaded preset '"+t+"' in "+i.milliseconds+" ms."),n(l)}if(void 0!==e.cache[t])return c=!0,void u(e.cache[t]);var h=new XMLHttpRequest;h.addEventListener("readystatechange",(function(){if(h.readyState===XMLHttpRequest.DONE&&200===h.status){var r=e.tryParsePointsArray(h.responseText);null!==r&&(e.cache[t]=r,u(e.cache[t]))}})),h.open("GET","resources/"+t+".txt"),h.send()},e.setCustomPreset=function(t,r){for(var n=.5*r[0],o=.5*r[1],s=a/Math.min(r[0],r[1]),c=0,u=t;c<u.length;c++){var h=u[c];h.x=.5*a+(h.x-n)*s,h.y=.5*a+(h.y-o)*s}e.cache[i.CUSTOM]=t},e.tryParsePointsArray=function(e){if(!e)return null;for(var t=new s.StopWatch,r=[],n=0,i=e.split("\n");n<i.length;n++){var a=i[n].split(" ");if(2!==a.length)return null;r.push({x:+a[0],y:+a[1]})}return r.length<=1?null:(o.message("Parsed preset in "+t.milliseconds+" ms."),r)},e.cache={},e}();t.Presets=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!0;t.setEnabled=function(e){n=e},t.message=function(e){n&&console.log(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.start=performance.now()}return Object.defineProperty(e.prototype,"milliseconds",{get:function(){return Math.ceil(performance.now()-this.start)},enumerable:!0,configurable:!0}),e}();t.StopWatch=n},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),o=r(7),s=r(8),a=r(0),c=r(2),u=n(r(10));function h(e){e=Math.round(100*e)/100,Canvas.setIndicatorText("fourier-order",e.toLocaleString())}!function(){var e=new i.Canvas2D("canvas");e.lineWidth=1,a.Parameters.downloadObservers.push((function(){return e.download("picasso-fourier.png")}));var t=null,r=null,n=new o.Clock,l=!0;a.Parameters.clearObservers.push((function(){return l=!0})),u.finishedAcquisitionCallbacks.push((function(e){e&&(t=null,r=null,Canvas.showLoader(!0),c.Presets.setCustomPreset(u.recordedPath,Canvas.getSize()),a.Parameters.setCustomPreset()),d=!0}));var d=!0;function p(e){t=new s.LineDrawing(e),r=t.computeFourierSeries(301),l=!0,n.reset(),Canvas.showLoader(!1)}function f(){t=null,r=null;var e=Canvas.getSize();Canvas.showLoader(!0),c.Presets.getPreset(a.Parameters.preset,e,p)}a.Parameters.redrawObservers.push((function(){return d=!0})),a.Parameters.presetObservers.push(f),Canvas.Observers.canvasResize.push(f);var v=2e3;f(),requestAnimationFrame((function i(){if(u.isRecording())e.clear(),e.setFullViewport(),a.Parameters.resetZoom(),e.strokeStyle="white",u.drawCurrentPath(e);else if(null!==t&&null!==r){var o=n.current/v,s=a.Parameters.closeLoop?1:t.originalPathDuration,c=o>=s;if(!c&&n.isPaused&&n.resume(),o=Math.min(o,s),c&&(a.Parameters.repeat?l=!0:n.pause()),l&&(a.Parameters.isProgressiveMode&&a.Parameters.resetZoom(),l=!1,n.reset(),r.resetCurve(),o=0,c=!1,h(a.Parameters.order),e.clear()),d&&(e.adjustSize(),a.Parameters.isProgressiveMode||1===a.Parameters.zoom?e.setFullViewport():(e.zoom=a.Parameters.zoom,e.center=r.computePoint(a.Parameters.order,o)),a.Parameters.persistence||e.clear(),a.Parameters.displayOriginalCurve&&(e.strokeStyle="rgb(0,128,0)",e.lineWidth=3,t.draw(e,a.Parameters.isProgressiveMode?s:o),e.lineWidth=1),a.Parameters.displayCircles&&(e.strokeStyle=a.Parameters.persistence?"rgba(255,255,255,0.01)":"rgba(255,255,255,0.3)",r.drawCirclesToPoint(e,a.Parameters.order,o)),a.Parameters.displayCurve&&(e.strokeStyle="white",r.drawCurve(e,a.Parameters.order,o)),a.Parameters.displaySegments&&(e.strokeStyle=a.Parameters.persistence?"rgba(255,0,0,0.01)":"red",r.drawSegmentsToPoint(e,a.Parameters.order,o)),a.Parameters.isProgressiveMode)){var p=a.Parameters.order*o/s;a.Parameters.persistence?a.Parameters.smooth?e.strokeStyle="rgba(255,255,255,0.01)":e.strokeStyle="rgba(255,255,255,0.03)":e.strokeStyle="white",a.Parameters.smooth?r.drawCurvePartialOrder(e,p,s):(p=Math.floor(p),r.drawCurve(e,p,s)),h(p)}d=!c&&a.Parameters.speed>0}requestAnimationFrame(i)}))}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=2*Math.PI,i=function(){function e(e){this.wantedLineWidth=1,this.isDrawingLine=!1,this.nbPointsInLine=0,this.canvas=document.getElementById(e),this.context=this.canvas.getContext("2d"),this.cssPixel=window.devicePixelRatio||1,this.viewportZoom=1,this.viewportCenter={x:0,y:0},this.precomputeTransformation()}return Object.defineProperty(e.prototype,"center",{set:function(e){this.viewportCenter.x=e.x,this.viewportCenter.y=e.y,this.precomputeTransformation()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoom",{set:function(e){this.viewportZoom=e,this.precomputeTransformation()},enumerable:!0,configurable:!0}),e.prototype.setFullViewport=function(){this.viewportZoom=1,this.viewportCenter.x=.5*this.canvas.width/this.cssPixel,this.viewportCenter.y=.5*this.canvas.height/this.cssPixel,this.precomputeTransformation()},Object.defineProperty(e.prototype,"lineWidth",{set:function(e){this.wantedLineWidth=this.cssPixel*e,this.context.lineWidth=this.wantedLineWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeStyle",{set:function(e){this.context.strokeStyle=e},enumerable:!0,configurable:!0}),e.prototype.adjustSize=function(){var e=this.cssPixel*this.canvas.clientWidth,t=this.cssPixel*this.canvas.clientHeight;this.canvas.width===e&&this.canvas.height===t||(this.canvas.width=e,this.canvas.height=t,this.setFullViewport())},e.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.drawCircle=function(e,t){var r=this.viewportZoom*t,i=this.scale*e.x+this.translateX,o=this.scale*e.y+this.translateY;r>.5&&(this.context.beginPath(),this.context.arc(i,o,r,0,n),this.context.closePath(),this.context.stroke())},e.prototype.startLine=function(){this.isDrawingLine&&this.endLine(),this.context.lineWidth=this.wantedLineWidth,this.context.beginPath(),this.isDrawingLine=!0,this.nbPointsInLine=0},e.prototype.addPointToLine=function(e){var t=this.scale*e.x+this.translateX,r=this.scale*e.y+this.translateY;0===this.nbPointsInLine?this.context.moveTo(t,r):this.context.lineTo(t,r),this.nbPointsInLine++},e.prototype.endLine=function(){this.isDrawingLine&&(this.context.stroke(),this.context.closePath(),this.isDrawingLine=!1)},e.prototype.download=function(e){if(this.canvas.msToBlob){var t=this.canvas.msToBlob();window.navigator.msSaveBlob(t,e)}else this.canvas.toBlob((function(t){if(null!==t){var r=document.createElement("a");r.download=e,r.href=URL.createObjectURL(t),r.click()}}))},e.prototype.precomputeTransformation=function(){this.scale=this.cssPixel*this.viewportZoom,this.translateX=this.cssPixel*(-this.viewportZoom*this.viewportCenter.x)+.5*this.canvas.width,this.translateY=this.cssPixel*(-this.viewportZoom*this.viewportCenter.y)+.5*this.canvas.height},e}();t.Canvas2D=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(){function e(){var e=this;this.speed=n.Parameters.speed,this.paused=!1,this.lastCheckpoint={clockTime:0,realTime:0},n.Parameters.speedChangeObservers.push((function(){return e.updateSpeed()})),this.reset()}return e.prototype.reset=function(){this.paused=!1,this.lastCheckpoint.clockTime=0,this.lastCheckpoint.realTime=performance.now(),this.updateSpeed()},e.prototype.setSpeed=function(e){this.createCheckpoint(),this.speed=e},e.prototype.pause=function(){this.paused||(this.createCheckpoint(),this.paused=!0)},e.prototype.resume=function(){this.paused&&(this.createCheckpoint(),this.paused=!1)},Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.paused?this.lastCheckpoint.clockTime:this.lastCheckpoint.clockTime+this.speed*(performance.now()-this.lastCheckpoint.realTime)},enumerable:!0,configurable:!0}),e.prototype.createCheckpoint=function(){this.lastCheckpoint.clockTime=this.current,this.lastCheckpoint.realTime=performance.now()},e.prototype.updateSpeed=function(){this.setSpeed(n.Parameters.speed/n.Parameters.zoom)},e}();t.Clock=i},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),o=n(r(3)),s=r(0),a=r(1),c=r(4),u=function(){function e(e){this.points=e;for(var t=0,r=0;r<this.points.length-1;r++)t+=a.Point.distance(this.points[r],this.points[r+1]);var n=t,i=this.points[0],o=this.points[this.points.length-1];a.Point.equals(i,o)||(n+=a.Point.distance(o,i),this.points.push(a.Point.copy(i))),this.pathLength=n,this.originalPathDuration=t/n}return e.prototype.draw=function(e,t){var r=t*this.pathLength,n=0;e.startLine(),e.addPointToLine(this.points[0]);for(var i=0;i<this.points.length-1;i++){var o=this.points[i],s=this.points[i+1],c=a.Point.distance(o,s);if(!(n+c<r)){var u=(r-n)/c,h=a.Point.interpolate(o,s,u);e.addPointToLine(h);break}n+=c,e.addPointToLine(s)}e.endLine()},e.prototype.computeFourierSeries=function(e){for(var t=new c.StopWatch,r=Math.max(200,Math.ceil(s.Parameters.integrationPrecision*this.pathLength)),n=this.pathLength/r,u=1/r,h=[],l=0,d=0,p=0;p<r;p++)for(var f=(p+.5)*u,v=(p+.5)*n,P=d;P<this.points.length-1;P++){var b=this.points[P],m=this.points[P+1],g=a.Point.distance(b,m);if(!(l+g<v)){var C=(v-l)/g,y=a.Point.interpolate(b,m,C);h.push({x:y.x,y:y.y,two_pi_t:2*Math.PI*f});break}l+=g,d=P+1}for(var O=[],S=0;S<2*e+1;S++){var w=Math.floor((S+1)/2);S>0&&S%2==0&&(w*=-1);for(var x=0,L=0,E=0,M=h;E<M.length;E++){var k=M[E],T=w*k.two_pi_t,_=Math.cos(T),R=Math.sin(T);x+=u*(k.x*_+k.y*R),L+=u*(k.y*_-k.x*R)}O.push({magnitude:Math.sqrt(x*x+L*L),phase:Math.atan2(L,x),n:w})}return o.message("Computed "+e+" Fourier coefficient with "+r+" integration steps in "+t.milliseconds+" ms."),new i.FourierSeries(O,this.pathLength)},e}();t.LineDrawing=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(1),o=2*Math.PI;function s(e,t,r){var n=o*r*t.n+t.phase;e.x+=t.magnitude*Math.cos(n),e.y+=t.magnitude*Math.sin(n)}function a(e,t,r){for(var n=0,i=t;n<i.length;n++){s(e,i[n],r)}}var c=function(){function e(e,t){if(this.partialCurve=[],this.partialCurveOrder=-1,e.length%2!=0&&e.length--,0===e.length)throw new Error("Fourier series must have at least one coefficient.");e.sort((function(e,t){var r=Math.abs(e.n),n=Math.abs(t.n);return r!==n?r-n:t.n-e.n})),this.coefficients=e,this.curveStepSize=1/(n.Parameters.curvePrecision*t)}return e.prototype.resetCurve=function(){this.partialCurve=[]},e.prototype.drawCurve=function(e,t,r){var n=this.computePartialCurve(t,r);e.startLine();for(var o=0;o<n;o++)e.addPointToLine(this.partialCurve[o]);var s=n%1,a=this.partialCurve[Math.floor(n)],c=this.partialCurve[Math.floor(n)+1],u=i.Point.interpolate(a,c,s);e.addPointToLine(u),e.endLine()},e.prototype.drawCurvePartialOrder=function(e,t,r){this.computePartialCurve(t,r);var n=this.getCoefficients(Math.floor(t)+1,Math.floor(t)+1),o=t%1;o<.5?(n=[n[0]],o*=2):o=2*o-1,e.startLine();for(var a=r/this.curveStepSize,c=0;c<a;c++){var u=c*this.curveStepSize,h=i.Point.copy(this.partialCurve[c]);s(h,n[0],u);var l=void 0;1===n.length?l=this.partialCurve[c]:(l=i.Point.copy(h),s(h,n[1],u));var d=i.Point.interpolate(l,h,o);e.addPointToLine(d)}e.endLine()},e.prototype.drawSegmentsToPoint=function(e,t,r){var n={x:0,y:0};e.startLine();for(var i=0,o=this.getCoefficients(0,t);i<o.length;i++){s(n,o[i],r),e.addPointToLine(n)}e.endLine()},e.prototype.drawCirclesToPoint=function(e,t,r){var n=this.getCoefficients(0,t);if(!(n.length<2))for(var i={x:0,y:0},o=0,a=n;o<a.length;o++){var c=a[o];0!==c.n&&1!==c.n&&e.drawCircle(i,c.magnitude),s(i,c,r)}},e.prototype.computePoint=function(e,t){var r={x:0,y:0};return a(r,this.getCoefficients(0,e),t),r},e.prototype.computePartialCurve=function(e,t){if((e=Math.floor(e))<this.partialCurveOrder)this.resetCurve();else if(e>this.partialCurveOrder)for(var r=this.getCoefficients(this.partialCurveOrder+1,e),n=0;n<this.partialCurve.length;n++){var i=n*this.curveStepSize;a(this.partialCurve[n],r,i)}var o=t/this.curveStepSize,s=Math.ceil(o),c=this.getCoefficients(0,e);for(n=this.partialCurve.length;n<=s+1;n++){var u={x:0,y:0};a(u,c,n*this.curveStepSize),this.partialCurve.push(u)}return this.partialCurveOrder=e,o},e.prototype.getCoefficients=function(e,t){e=Math.min(e,t);var r=Math.max(0,2*e-1),n=Math.min(this.coefficients.length,2*t+1);return this.coefficients.slice(r,n)},e}();t.FourierSeries=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=[];t.recordedPath=i;var o=!1,s=[];function a(){var e=Canvas.getSize(),t=Canvas.getMousePosition();return{x:e[0]*t[0],y:e[1]*t[1]}}t.finishedAcquisitionCallbacks=s,Canvas.Observers.mouseDown.push((function(){o=!0;var e=a();t.recordedPath=i=[e]})),Canvas.Observers.mouseUp.push((function(){if(o){o=!1;for(var e=0,t=s;e<t.length;e++){(0,t[e])(i.length>=2)}}})),Canvas.Observers.mouseMove.push((function(){if(o){var e=a();n.Point.distance(i[i.length-1],e)>2&&i.push(e)}})),t.isRecording=function(){return o},t.drawCurrentPath=function(e){e.startLine();for(var t=0,r=i;t<r.length;t++){var n=r[t];e.addPointToLine(n)}e.endLine()}}]);
//# sourceMappingURL=main.min.js.map