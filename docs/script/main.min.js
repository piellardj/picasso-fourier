!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parameters=void 0;var i=r(3);r(1);var n,o="preset-picker-id",a="mode-picker-id",s="speed-range-id",c="persistence-checkbox-id",u="smooth-checkbox-id",l="close-loop-checkbox-id",h="loop-checkbox-id",d="reset-button-id",f="circles-checkbox-id",p="segments-checkbox-id",v="curve-checkbox-id",P="original-curve-checkbox-id",g="order-range-id",b="zoom-range-id",m="indicator-checkbox-id",y="download-button-id";function C(e){for(var t=0,r=e;t<r.length;t++){(0,r[t])()}}!function(e){e.INSTANT="0",e.PROGRESSIVE="1"}(n||(n={}));var O,w,x=[],k=[],S=[],M=[],j=[];function L(e){var t=O;(O=e)!==t&&C(M)}function _(e){if(1===e.length){var t=e[0];if(t!==w){var r=(w=t)===n.INSTANT;Page.Controls.setVisibility(u,!r),Page.Controls.setVisibility(f,r),Page.Controls.setVisibility(p,r),Page.Controls.setVisibility(v,r),Page.Controls.setVisibility(b,r),C(x)}}}Page.Picker.addObserver(o,L),L(Page.Picker.getValue(o)),_(Page.Tabs.getValues(a)),Page.Tabs.addObserver(a,_);var T=Page.Range.getValue(s);Page.Range.addObserver(s,(function(e){T=e,C(S)}));var R=Page.Checkbox.isChecked(c);Page.Checkbox.addObserver(c,(function(e){R=e}));var E=Page.Checkbox.isChecked(u);Page.Checkbox.addObserver(u,(function(e){E=e}));var D=Page.Checkbox.isChecked(l);Page.Checkbox.addObserver(l,(function(e){D=e,w===n.PROGRESSIVE&&C(x)}));var I=Page.Checkbox.isChecked(h);Page.Checkbox.addObserver(h,(function(e){I=e})),Page.Button.addObserver(d,(function(){return C(x)}));var V=Page.Checkbox.isChecked(f);Page.Checkbox.addObserver(f,(function(e){V=e,C(k)}));var z=Page.Checkbox.isChecked(p);Page.Checkbox.addObserver(p,(function(e){z=e,C(k)}));var A=Page.Checkbox.isChecked(v);Page.Checkbox.addObserver(v,(function(e){A=e,C(k)}));var N=Page.Checkbox.isChecked(P);Page.Checkbox.addObserver(P,(function(e){N=e,C(k)}));var W=Page.Range.getValue(g);Page.Range.addObserver(g,(function(e){W=e,C(x)}));var F=Page.Range.getValue(b);function q(){var e=Page.Checkbox.isChecked(m);Page.Canvas.setIndicatorsVisibility(e)}Page.Range.addObserver(b,(function(e){F=e,C(k),C(S)})),q(),Page.Checkbox.addObserver(m,q),Page.FileControl.addDownloadObserver(y,(function(){return C(j)}));var U=function(){function e(){}return Object.defineProperty(e,"preset",{get:function(){return O},enumerable:!1,configurable:!0}),e.setCustomPreset=function(){Page.Picker.setValue(o,null),O=i.EPreset.CUSTOM,C(M)},Object.defineProperty(e,"isProgressiveMode",{get:function(){return w===n.PROGRESSIVE},enumerable:!1,configurable:!0}),Object.defineProperty(e,"speed",{get:function(){return this.isProgressiveMode?.1*T:T},enumerable:!1,configurable:!0}),Object.defineProperty(e,"persistence",{get:function(){return R},enumerable:!1,configurable:!0}),Object.defineProperty(e,"smooth",{get:function(){return E},enumerable:!1,configurable:!0}),Object.defineProperty(e,"closeLoop",{get:function(){return D},enumerable:!1,configurable:!0}),Object.defineProperty(e,"repeat",{get:function(){return I},enumerable:!1,configurable:!0}),Object.defineProperty(e,"displayCircles",{get:function(){return w===n.INSTANT&&V},enumerable:!1,configurable:!0}),Object.defineProperty(e,"displaySegments",{get:function(){return w===n.INSTANT&&z},enumerable:!1,configurable:!0}),Object.defineProperty(e,"displayCurve",{get:function(){return w===n.INSTANT&&A},enumerable:!1,configurable:!0}),Object.defineProperty(e,"displayOriginalCurve",{get:function(){return N},enumerable:!1,configurable:!0}),Object.defineProperty(e,"order",{get:function(){return W},enumerable:!1,configurable:!0}),Object.defineProperty(e,"zoom",{get:function(){return F},enumerable:!1,configurable:!0}),e.resetZoom=function(){F=1,Page.Range.setValue(b,F)},Object.defineProperty(e,"integrationPrecision",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"curvePrecision",{get:function(){return.5},enumerable:!1,configurable:!0}),Object.defineProperty(e,"clearObservers",{get:function(){return x},enumerable:!1,configurable:!0}),Object.defineProperty(e,"redrawObservers",{get:function(){return k},enumerable:!1,configurable:!0}),Object.defineProperty(e,"speedChangeObservers",{get:function(){return S},enumerable:!1,configurable:!0}),Object.defineProperty(e,"presetObservers",{get:function(){return M},enumerable:!1,configurable:!0}),Object.defineProperty(e,"downloadObservers",{get:function(){return j},enumerable:!1,configurable:!0}),e}();t.Parameters=U},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var i=function(){function e(){}return e.interpolate=function(e,t,r){return{x:e.x*(1-r)+t.x*r,y:e.y*(1-r)+t.y*r}},e.distance=function(e,t){var r=e.x-t.x,i=e.y-t.y;return Math.sqrt(r*r+i*i)},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e.copy=function(e){return{x:e.x,y:e.y}},e}();t.Point=i},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Presets=t.EPreset=void 0;var a,s=o(r(4)),c=r(5);!function(e){e.ARLEQUIN1="arlequin1",e.ARLEQUIN2="arlequin2",e.BULL="bull",e.CAMEL="camel",e.CUSTOM="<none>",e.DOG="dog",e.DOVE="dove",e.FLAMINGO="flamingo",e.HORSE="horse",e.MOUSE="mouse",e.PENGUIN="penguin",e.WOMAN1="woman1",e.WOMAN2="woman2"}(a||(a={})),t.EPreset=a;var u=function(){function e(){}return e.getPreset=function(t,r,i){var n=new c.StopWatch,o=!1;function a(e){for(var a=Math.min(r[0]/512,r[1]/512),c=.5*(r[0]-512*a),u=.5*(r[1]-512*a),l=[],h=0,d=e;h<d.length;h++){var f=d[h];l.push({x:f.x*a+c,y:f.y*a+u})}o?s.message("Retrieved preset '"+t+"' from cache in "+n.milliseconds+" ms"):s.message("Downloaded preset '"+t+"' in "+n.milliseconds+" ms."),i(l)}if(void 0!==e.cache[t])return o=!0,void a(e.cache[t]);var u=new XMLHttpRequest;u.addEventListener("readystatechange",(function(){if(u.readyState===XMLHttpRequest.DONE&&200===u.status){var r=e.tryParsePointsArray(u.responseText);null!==r&&(e.cache[t]=r,a(e.cache[t]))}})),u.open("GET","resources/"+t+".txt"),u.send()},e.setCustomPreset=function(t,r){for(var i=.5*r[0],n=.5*r[1],o=512/Math.min(r[0],r[1]),s=0,c=t;s<c.length;s++){var u=c[s];u.x=256+(u.x-i)*o,u.y=256+(u.y-n)*o}e.cache[a.CUSTOM]=t},e.tryParsePointsArray=function(e){if(!e)return null;for(var t=new c.StopWatch,r=[],i=0,n=e.split("\n");i<n.length;i++){var o=n[i].split(" ");if(2!==o.length)return null;r.push({x:+o[0],y:+o[1]})}return r.length<=1?null:(s.message("Parsed preset in "+t.milliseconds+" ms."),r)},e.cache={},e}();t.Presets=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.setEnabled=void 0;var i=!0;t.setEnabled=function(e){i=e},t.message=function(e){i&&console.log(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0;var i=function(){function e(){this.start=performance.now()}return Object.defineProperty(e.prototype,"milliseconds",{get:function(){return Math.ceil(performance.now()-this.start)},enumerable:!1,configurable:!0}),e}();t.StopWatch=i},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),s=r(8),c=r(9),u=r(0),l=r(3),h=o(r(11));function d(e){e=Math.round(100*e)/100,Page.Canvas.setIndicatorText("fourier-order",e.toLocaleString())}r(1),function(){var e=new a.Canvas2D("canvas");e.lineWidth=1,u.Parameters.downloadObservers.push((function(){return e.download("picasso-fourier.png")}));var t=null,r=null,i=new s.Clock,n=!0;u.Parameters.clearObservers.push((function(){return n=!0})),h.finishedAcquisitionCallbacks.push((function(e){e&&(t=null,r=null,Page.Canvas.showLoader(!0),l.Presets.setCustomPreset(h.recordedPath,Page.Canvas.getSize()),u.Parameters.setCustomPreset()),o=!0}));var o=!0;function f(e){t=new c.LineDrawing(e),r=t.computeFourierSeries(301),n=!0,i.reset(),Page.Canvas.showLoader(!1)}function p(){t=null,r=null;var e=Page.Canvas.getSize();Page.Canvas.showLoader(!0),l.Presets.getPreset(u.Parameters.preset,e,f)}u.Parameters.redrawObservers.push((function(){return o=!0})),u.Parameters.presetObservers.push(p),Page.Canvas.Observers.canvasResize.push(p),p(),requestAnimationFrame((function a(){if(h.isRecording())e.clear(),e.setFullViewport(),u.Parameters.resetZoom(),e.strokeStyle="white",h.drawCurrentPath(e);else if(null!==t&&null!==r){var s=i.current/2e3,c=u.Parameters.closeLoop?1:t.originalPathDuration,l=s>=c;if(!l&&i.isPaused&&i.resume(),s=Math.min(s,c),l&&(u.Parameters.repeat?n=!0:i.pause()),n&&(u.Parameters.isProgressiveMode&&u.Parameters.resetZoom(),n=!1,i.reset(),r.resetCurve(),s=0,l=!1,d(u.Parameters.order),e.clear()),o&&(e.adjustSize(),u.Parameters.isProgressiveMode||1===u.Parameters.zoom?e.setFullViewport():(e.zoom=u.Parameters.zoom,e.center=r.computePoint(u.Parameters.order,s)),u.Parameters.persistence||e.clear(),u.Parameters.displayOriginalCurve&&(e.strokeStyle="rgb(0,128,0)",e.lineWidth=3,t.draw(e,u.Parameters.isProgressiveMode?c:s),e.lineWidth=1),u.Parameters.displayCircles&&(e.strokeStyle=u.Parameters.persistence?"rgba(255,255,255,0.01)":"rgba(255,255,255,0.3)",r.drawCirclesToPoint(e,u.Parameters.order,s)),u.Parameters.displayCurve&&(e.strokeStyle="white",r.drawCurve(e,u.Parameters.order,s)),u.Parameters.displaySegments&&(e.strokeStyle=u.Parameters.persistence?"rgba(255,0,0,0.01)":"red",r.drawSegmentsToPoint(e,u.Parameters.order,s)),u.Parameters.isProgressiveMode)){var f=u.Parameters.order*s/c;u.Parameters.persistence?u.Parameters.smooth?e.strokeStyle="rgba(255,255,255,0.01)":e.strokeStyle="rgba(255,255,255,0.03)":e.strokeStyle="white",u.Parameters.smooth?r.drawCurvePartialOrder(e,f,c):(f=Math.floor(f),r.drawCurve(e,f,c)),d(f)}o=!l&&u.Parameters.speed>0}requestAnimationFrame(a)}))}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas2D=void 0;var i=2*Math.PI,n=function(){function e(e){var t;this.wantedLineWidth=1,this.isDrawingLine=!1,this.nbPointsInLine=0,this.canvas=document.getElementById(e),this.context=this.canvas.getContext("2d"),this.cssPixel=null!==(t=window.devicePixelRatio)&&void 0!==t?t:1,this.viewportZoom=1,this.viewportCenter={x:0,y:0},this.precomputeTransformation()}return Object.defineProperty(e.prototype,"center",{set:function(e){this.viewportCenter.x=e.x,this.viewportCenter.y=e.y,this.precomputeTransformation()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zoom",{set:function(e){this.viewportZoom=e,this.precomputeTransformation()},enumerable:!1,configurable:!0}),e.prototype.setFullViewport=function(){this.viewportZoom=1,this.viewportCenter.x=.5*this.canvas.width/this.cssPixel,this.viewportCenter.y=.5*this.canvas.height/this.cssPixel,this.precomputeTransformation()},Object.defineProperty(e.prototype,"lineWidth",{set:function(e){this.wantedLineWidth=this.cssPixel*e,this.context.lineWidth=this.wantedLineWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeStyle",{set:function(e){this.context.strokeStyle=e},enumerable:!1,configurable:!0}),e.prototype.adjustSize=function(){var e=this.cssPixel*this.canvas.clientWidth,t=this.cssPixel*this.canvas.clientHeight;this.canvas.width===e&&this.canvas.height===t||(this.canvas.width=e,this.canvas.height=t,this.setFullViewport())},e.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.drawCircle=function(e,t){var r=this.viewportZoom*t,n=this.scale*e.x+this.translateX,o=this.scale*e.y+this.translateY;r>.5&&(this.context.beginPath(),this.context.arc(n,o,r,0,i),this.context.closePath(),this.context.stroke())},e.prototype.startLine=function(){this.isDrawingLine&&this.endLine(),this.context.lineWidth=this.wantedLineWidth,this.context.beginPath(),this.isDrawingLine=!0,this.nbPointsInLine=0},e.prototype.addPointToLine=function(e){var t=this.scale*e.x+this.translateX,r=this.scale*e.y+this.translateY;0===this.nbPointsInLine?this.context.moveTo(t,r):this.context.lineTo(t,r),this.nbPointsInLine++},e.prototype.endLine=function(){this.isDrawingLine&&(this.context.stroke(),this.context.closePath(),this.isDrawingLine=!1)},e.prototype.download=function(e){if(this.canvas.msToBlob){var t=this.canvas.msToBlob();window.navigator.msSaveBlob(t,e)}else this.canvas.toBlob((function(t){if(null!==t){var r=document.createElement("a");r.download=e,r.href=URL.createObjectURL(t),r.click()}}))},e.prototype.precomputeTransformation=function(){this.scale=this.cssPixel*this.viewportZoom,this.translateX=this.cssPixel*(-this.viewportZoom*this.viewportCenter.x)+.5*this.canvas.width,this.translateY=this.cssPixel*(-this.viewportZoom*this.viewportCenter.y)+.5*this.canvas.height},e}();t.Canvas2D=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Clock=void 0;var i=r(0),n=function(){function e(){var e=this;this.speed=i.Parameters.speed,this.paused=!1,this.lastCheckpoint={clockTime:0,realTime:0},i.Parameters.speedChangeObservers.push((function(){return e.updateSpeed()})),this.reset()}return e.prototype.reset=function(){this.paused=!1,this.lastCheckpoint.clockTime=0,this.lastCheckpoint.realTime=performance.now(),this.updateSpeed()},e.prototype.setSpeed=function(e){this.createCheckpoint(),this.speed=e},e.prototype.pause=function(){this.paused||(this.createCheckpoint(),this.paused=!0)},e.prototype.resume=function(){this.paused&&(this.createCheckpoint(),this.paused=!1)},Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.paused?this.lastCheckpoint.clockTime:this.lastCheckpoint.clockTime+this.speed*(performance.now()-this.lastCheckpoint.realTime)},enumerable:!1,configurable:!0}),e.prototype.createCheckpoint=function(){this.lastCheckpoint.clockTime=this.current,this.lastCheckpoint.realTime=performance.now()},e.prototype.updateSpeed=function(){this.setSpeed(i.Parameters.speed/i.Parameters.zoom)},e}();t.Clock=n},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LineDrawing=void 0;var a=r(10),s=o(r(4)),c=r(0),u=r(2),l=r(5),h=function(){function e(e){this.points=e;for(var t=0,r=0;r<this.points.length-1;r++)t+=u.Point.distance(this.points[r],this.points[r+1]);var i=t,n=this.points[0],o=this.points[this.points.length-1];u.Point.equals(n,o)||(i+=u.Point.distance(o,n),this.points.push(u.Point.copy(n))),this.pathLength=i,this.originalPathDuration=t/i}return e.prototype.draw=function(e,t){var r=t*this.pathLength,i=0;e.startLine(),e.addPointToLine(this.points[0]);for(var n=0;n<this.points.length-1;n++){var o=this.points[n],a=this.points[n+1],s=u.Point.distance(o,a);if(!(i+s<r)){var c=(r-i)/s,l=u.Point.interpolate(o,a,c);e.addPointToLine(l);break}i+=s,e.addPointToLine(a)}e.endLine()},e.prototype.computeFourierSeries=function(e){for(var t=new l.StopWatch,r=Math.max(200,Math.ceil(c.Parameters.integrationPrecision*this.pathLength)),i=this.pathLength/r,n=1/r,o=[],h=0,d=0,f=0;f<r;f++)for(var p=(f+.5)*n,v=(f+.5)*i,P=d;P<this.points.length-1;P++){var g=this.points[P],b=this.points[P+1],m=u.Point.distance(g,b);if(!(h+m<v)){var y=(v-h)/m,C=u.Point.interpolate(g,b,y);o.push({x:C.x,y:C.y,two_pi_t:2*Math.PI*p});break}h+=m,d=P+1}for(var O=[],w=0;w<2*e+1;w++){var x=Math.floor((w+1)/2);w>0&&w%2==0&&(x*=-1);for(var k=0,S=0,M=0,j=o;M<j.length;M++){var L=j[M],_=x*L.two_pi_t,T=Math.cos(_),R=Math.sin(_);k+=n*(L.x*T+L.y*R),S+=n*(L.y*T-L.x*R)}O.push({magnitude:Math.sqrt(k*k+S*S),phase:Math.atan2(S,k),n:x})}return s.message("Computed "+e+" Fourier coefficient with "+r+" integration steps in "+t.milliseconds+" ms."),new a.FourierSeries(O,this.pathLength)},e}();t.LineDrawing=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FourierSeries=void 0;var i=r(0),n=r(2),o=2*Math.PI;function a(e,t,r){var i=o*r*t.n+t.phase;e.x+=t.magnitude*Math.cos(i),e.y+=t.magnitude*Math.sin(i)}function s(e,t,r){for(var i=0,n=t;i<n.length;i++){a(e,n[i],r)}}var c=function(){function e(e,t){if(this.partialCurve=[],this.partialCurveOrder=-1,e.length%2!=0&&e.length--,0===e.length)throw new Error("Fourier series must have at least one coefficient.");e.sort((function(e,t){var r=Math.abs(e.n),i=Math.abs(t.n);return r!==i?r-i:t.n-e.n})),this.coefficients=e,this.curveStepSize=1/(i.Parameters.curvePrecision*t)}return e.prototype.resetCurve=function(){this.partialCurve=[]},e.prototype.drawCurve=function(e,t,r){var i=this.computePartialCurve(t,r);e.startLine();for(var o=0;o<i;o++)e.addPointToLine(this.partialCurve[o]);var a=i%1,s=this.partialCurve[Math.floor(i)],c=this.partialCurve[Math.floor(i)+1],u=n.Point.interpolate(s,c,a);e.addPointToLine(u),e.endLine()},e.prototype.drawCurvePartialOrder=function(e,t,r){this.computePartialCurve(t,r);var i=this.getCoefficients(Math.floor(t)+1,Math.floor(t)+1),o=t%1;o<.5?(i=[i[0]],o*=2):o=2*o-1,e.startLine();for(var s=r/this.curveStepSize,c=0;c<s;c++){var u=c*this.curveStepSize,l=n.Point.copy(this.partialCurve[c]);a(l,i[0],u);var h=void 0;1===i.length?h=this.partialCurve[c]:(h=n.Point.copy(l),a(l,i[1],u));var d=n.Point.interpolate(h,l,o);e.addPointToLine(d)}e.endLine()},e.prototype.drawSegmentsToPoint=function(e,t,r){var i={x:0,y:0};e.startLine();for(var n=0,o=this.getCoefficients(0,t);n<o.length;n++){a(i,o[n],r),e.addPointToLine(i)}e.endLine()},e.prototype.drawCirclesToPoint=function(e,t,r){var i=this.getCoefficients(0,t);if(!(i.length<2))for(var n={x:0,y:0},o=0,s=i;o<s.length;o++){var c=s[o];0!==c.n&&1!==c.n&&e.drawCircle(n,c.magnitude),a(n,c,r)}},e.prototype.computePoint=function(e,t){var r={x:0,y:0};return s(r,this.getCoefficients(0,e),t),r},e.prototype.computePartialCurve=function(e,t){if((e=Math.floor(e))<this.partialCurveOrder)this.resetCurve();else if(e>this.partialCurveOrder)for(var r=this.getCoefficients(this.partialCurveOrder+1,e),i=0;i<this.partialCurve.length;i++){var n=i*this.curveStepSize;s(this.partialCurve[i],r,n)}var o=t/this.curveStepSize,a=Math.ceil(o),c=this.getCoefficients(0,e);for(i=this.partialCurve.length;i<=a+1;i++){var u={x:0,y:0};s(u,c,i*this.curveStepSize),this.partialCurve.push(u)}return this.partialCurveOrder=e,o},e.prototype.getCoefficients=function(e,t){e=Math.min(e,t);var r=Math.max(0,2*e-1),i=Math.min(this.coefficients.length,2*t+1);return this.coefficients.slice(r,i)},e}();t.FourierSeries=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recordedPath=t.isRecording=t.finishedAcquisitionCallbacks=t.drawCurrentPath=void 0;var i=r(2);r(1);var n=[];t.recordedPath=n;var o=!1,a=[];function s(){var e=Page.Canvas.getSize(),t=Page.Canvas.getMousePosition();return{x:e[0]*t[0],y:e[1]*t[1]}}t.finishedAcquisitionCallbacks=a,Page.Canvas.Observers.mouseDown.push((function(){o=!0;var e=s();t.recordedPath=n=[e]})),Page.Canvas.Observers.mouseUp.push((function(){if(o){o=!1;for(var e=0,t=a;e<t.length;e++){(0,t[e])(n.length>=2)}}})),Page.Canvas.Observers.mouseMove.push((function(){if(o){var e=s();i.Point.distance(n[n.length-1],e)>2&&n.push(e)}})),t.isRecording=function(){return o},t.drawCurrentPath=function(e){e.startLine();for(var t=0,r=n;t<r.length;t++){var i=r[t];e.addPointToLine(i)}e.endLine()}}]);
//# sourceMappingURL=main.min.js.map